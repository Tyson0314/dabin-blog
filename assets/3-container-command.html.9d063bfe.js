import{_ as e}from"./plugin-vue_export-helper.21dcd24c.js";import{o as a,c as n,e as i}from"./app.09d9ce72.js";const d={},s=i(`<h1 id="docker\u5BB9\u5668\u5E38\u7528\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#docker\u5BB9\u5668\u5E38\u7528\u547D\u4EE4" aria-hidden="true">#</a> docker\u5BB9\u5668\u5E38\u7528\u547D\u4EE4</h1><h2 id="\u65B0\u5EFA\u5BB9\u5668" tabindex="-1"><a class="header-anchor" href="#\u65B0\u5EFA\u5BB9\u5668" aria-hidden="true">#</a> \u65B0\u5EFA\u5BB9\u5668</h2><p>\u65B0\u5EFA\u5E76\u542F\u52A8\u5BB9\u5668\uFF08docker\u5BB9\u5668\u8FD0\u884C\u5FC5\u987B\u6709\u4E00\u4E2A\u524D\u53F0\u8FDB\u7A0B\uFF0C \u5982\u679C\u6CA1\u6709\u524D\u53F0\u8FDB\u7A0B\u6267\u884C\uFF0C\u5BB9\u5668\u8BA4\u4E3A\u7A7A\u95F2\uFF0C\u5C31\u4F1A\u81EA\u884C\u9000\u51FA\u3002\u6240\u4EE5\u9700\u8981\u5148\u521B\u5EFA\u4E00\u4E2A\u524D\u53F0\u8FDB\u7A0B\uFF09\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker run -it --name java java:8 /bin/bash

docker run -p 33055:33055 --name nginx \\
&gt; -v /home/data:/home/data \\
&gt; nginx:1.18.0 \\
&gt; -e TZ=&quot;Asia/Shanghai&quot;
# -d nginx:1.18.0 -d\u8868\u793A\u5BB9\u5668\u4EE5\u540E\u53F0\u65B9\u5F0F\u8FD0\u884C
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><ul><li>-p\uFF1A\u5C06\u5BBF\u4E3B\u673A\u548C\u5BB9\u5668\u7AEF\u53E3\u8FDB\u884C\u6620\u5C04\uFF0C\u683C\u5F0F\u4E3A\uFF1A\u5BBF\u4E3B\u673A\u7AEF\u53E3:\u5BB9\u5668\u7AEF\u53E3\uFF1B</li><li>--name\uFF1A\u6307\u5B9A\u5BB9\u5668\u540D\u79F0\uFF0C\u4E4B\u540E\u53EF\u4EE5\u901A\u8FC7\u5BB9\u5668\u540D\u79F0\u6765\u64CD\u4F5C\u5BB9\u5668\uFF1B</li><li>-e\uFF1A\u8BBE\u7F6E\u5BB9\u5668\u7684\u73AF\u5883\u53D8\u91CF\uFF0C\u8FD9\u91CC\u8BBE\u7F6E\u7684\u662F\u65F6\u533A\uFF1B</li><li>-v\uFF1A\u5C06\u5BBF\u4E3B\u673A\u4E0A\u7684\u6587\u4EF6\u6302\u8F7D\u5230\u5BB9\u5668\u4E0A\uFF0C\u683C\u5F0F\u4E3A\uFF1A\u5BBF\u4E3B\u673A\u6587\u4EF6\u76EE\u5F55:\u5BB9\u5668\u6587\u4EF6\u76EE\u5F55\uFF1B</li><li>-d\uFF1A\u8868\u793A\u5BB9\u5668\u4EE5\u540E\u53F0\u65B9\u5F0F\u8FD0\u884C\u3002\u7EC8\u7AEF\u4E0D\u4F1A\u8F93\u51FA\u4EFB\u4F55\u8FD0\u884C\u4FE1\u606F\uFF1B</li><li>-i: \u4EE5\u4EA4\u4E92\u6A21\u5F0F\u8FD0\u884C\u5BB9\u5668\uFF0C\u901A\u5E38\u4E0E -t \u540C\u65F6\u4F7F\u7528\uFF1B</li><li>-t: \u4E3A\u5BB9\u5668\u5206\u914D\u4E00\u4E2A\u7EC8\u7AEF\uFF0C\u901A\u5E38\u4E0E -i \u540C\u65F6\u4F7F\u7528\u3002</li></ul></blockquote><p>\u4F7F\u7528-it\uFF0C\u6B64\u65F6\u5982\u679C\u4F7F\u7528exit\u9000\u51FA\uFF0C\u5219\u5BB9\u5668\u7684\u72B6\u6001\u5904\u4E8EExit\uFF0C\u800C\u4E0D\u662F\u540E\u53F0\u8FD0\u884C\u3002\u5982\u679C\u60F3\u8BA9\u5BB9\u5668\u4E00\u76F4\u8FD0\u884C\uFF0C\u800C\u4E0D\u662F\u505C\u6B62\uFF0C\u53EF\u4EE5\u4F7F\u7528\u5FEB\u6377\u952E ctrl+p ctrl+q \u9000\u51FA\uFF0C\u6B64\u65F6\u5BB9\u5668\u7684\u72B6\u6001\u4E3AUp\u3002</p><p><strong>\u521B\u5EFAMySQL\u5BB9\u5668</strong>\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>docker run <span class="token operator">--</span>name mysql4blog <span class="token operator">-</span>e MYSQL_ROOT_PASSWORD<span class="token operator">=</span><span class="token number">123456</span> <span class="token operator">-</span>p <span class="token number">3307</span><span class="token operator">:</span><span class="token number">3307</span> <span class="token operator">-</span>d mysql<span class="token operator">:</span><span class="token number">8.0</span><span class="token number">.20</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><ul><li><code>-name</code>: \u7ED9\u65B0\u521B\u5EFA\u7684\u5BB9\u5668\u547D\u540D\uFF0C\u6B64\u5904\u547D\u540D\u4E3A<code>mysql4blog</code></li><li><code>-e</code>: \u914D\u7F6E\u4FE1\u606F\uFF0C\u6B64\u5904\u914D\u7F6EMySQL\u7684 root \u7528\u6237\u7684\u767B\u5F55\u5BC6\u7801</li><li><code>-p</code>: \u7AEF\u53E3\u6620\u5C04\uFF0C\u6B64\u5904\u6620\u5C04\u4E3B\u673A\u76843307\u7AEF\u53E3\u5230\u5BB9\u5668\u76843307\u7AEF\u53E3</li><li>-d: \u6210\u529F\u542F\u52A8\u540C\u671F\u540E\u8F93\u51FA\u5BB9\u5668\u7684\u5B8C\u6574ID</li><li>\u6700\u540E\u4E00\u4E2A<code>mysql:8.0.20</code>\u6307\u7684\u662F<code>mysql</code>\u955C\u50CF</li></ul></blockquote><h2 id="\u67E5\u770B\u5BB9\u5668" tabindex="-1"><a class="header-anchor" href="#\u67E5\u770B\u5BB9\u5668" aria-hidden="true">#</a> \u67E5\u770B\u5BB9\u5668</h2><p>\u5217\u51FA\u8FD0\u884C\u4E2D\u7684\u5BB9\u5668\uFF0C<code>-a</code>\u53C2\u6570\u53EF\u4EE5\u5217\u51FA\u6240\u6709\u5BB9\u5668\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker ps
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="\u505C\u6B62\u5BB9\u5668" tabindex="-1"><a class="header-anchor" href="#\u505C\u6B62\u5BB9\u5668" aria-hidden="true">#</a> \u505C\u6B62\u5BB9\u5668</h2><p>\u4F7F\u7528\u5BB9\u5668\u540D\u79F0\u6216\u8005\u5BB9\u5668ID\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker stop $ContainerName(or $ContainerId)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u5F3A\u5236\u505C\u6B62\u5BB9\u5668\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker kill $ContainerName
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="\u542F\u52A8\u5BB9\u5668" tabindex="-1"><a class="header-anchor" href="#\u542F\u52A8\u5BB9\u5668" aria-hidden="true">#</a> \u542F\u52A8\u5BB9\u5668</h2><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker start $ContainerName
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="\u91CD\u542F\u5BB9\u5668" tabindex="-1"><a class="header-anchor" href="#\u91CD\u542F\u5BB9\u5668" aria-hidden="true">#</a> \u91CD\u542F\u5BB9\u5668</h2><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker restart nginx
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="\u8FDB\u5165\u5BB9\u5668" tabindex="-1"><a class="header-anchor" href="#\u8FDB\u5165\u5BB9\u5668" aria-hidden="true">#</a> \u8FDB\u5165\u5BB9\u5668</h2><p>\u8FDB\u5165\u540D\u5B57\u4E3Amysql\u7684\u5BB9\u5668\uFF0C\u540C\u65F6\u6253\u5F00\u547D\u4EE4\u884C\u7EC8\u7AEF\u3002\u4F7F\u7528exit\u65F6\uFF0C\u5BB9\u5668\u4E0D\u4F1A\u505C\u6B62\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker exec -it mysql /bin/bash
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>docker attach\u53EF\u4EE5\u5C06\u672C\u673A\u7684\u8F93\u5165\u76F4\u63A5\u8F93\u5230\u5BB9\u5668\u4E2D\uFF0C\u5BB9\u5668\u7684\u8F93\u51FA\u4F1A\u76F4\u63A5\u663E\u793A\u5728\u672C\u673A\u7684\u5C4F\u5E55\u4E0A\u3002\u5982\u679C\u4F7F\u7528exit\u6216\u8005ctrl+c\u9000\u51FA\uFF0C\u4F1A\u5BFC\u81F4\u5BB9\u5668\u7684\u505C\u6B62\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker attach container_name/container_id
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u65B0\u5EFA\u5E76\u8FD0\u884C\u5BB9\u5668\u65F6\uFF0C\u4F7F\u7528<code>docker run -it tyson/java:vim /bin/bash</code>\uFF0C\u76F4\u63A5\u8FDB\u5165\u5BB9\u5668\u547D\u4EE4\u884C\u754C\u9762\u3002</p><p>\u4F7F\u7528exit\u9000\u51FA\u547D\u4EE4\u884C\u4E4B\u540E\uFF0C\u91CD\u65B0\u8FDB\u5165\u5BB9\u5668\uFF1A</p><p>1\u3001\u5148\u67E5\u8BE2\u5BB9\u5668id\uFF1A<code>docker inspect --format &quot;{{.State.Pid}}&quot; nginx</code></p><p>2\u3001\u6839\u636E\u67E5\u5230\u7684\u5BB9\u5668id\u8FDB\u5165\u5BB9\u5668\uFF1A<code>nsenter --target 28487 --mount --uts --ipc --net --pid</code></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>[root@VM_0_7_centos ~]# docker inspect --format &quot;{{.State.Pid}}&quot; nginx
28487
[root@VM_0_7_centos ~]# nsenter --target 28487 --mount --uts --ipc --net --pid
mesg: ttyname failed: No such device
root@b217a35fc808:/# ls -l
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u5220\u9664\u5BB9\u5668" tabindex="-1"><a class="header-anchor" href="#\u5220\u9664\u5BB9\u5668" aria-hidden="true">#</a> \u5220\u9664\u5BB9\u5668</h2><p>\u6839\u636EContainerName\u5220\u9664\u5BB9\u5668\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker rm nginx
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u6309\u540D\u79F0\u901A\u914D\u7B26\u5220\u9664\u5BB9\u5668\uFF0C\u6BD4\u5982\u5220\u9664\u4EE5\u540D\u79F0<code>mall-</code>\u5F00\u5934\u7684\u5BB9\u5668\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker rm \`docker ps -a | grep mall-* | awk &#39;{print $1}&#39;\`
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u5F3A\u5236\u5220\u9664\u6240\u6709\u5BB9\u5668\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker rm -f $(docker ps -a -q)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="\u5BB9\u5668\u65E5\u5FD7" tabindex="-1"><a class="header-anchor" href="#\u5BB9\u5668\u65E5\u5FD7" aria-hidden="true">#</a> \u5BB9\u5668\u65E5\u5FD7</h2><p>\u6839\u636EContainerName\u67E5\u770B\u5BB9\u5668\u4EA7\u751F\u7684\u65E5\u5FD7\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker logs nginx
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u52A8\u6001\u67E5\u770B\u5BB9\u5668\u4EA7\u751F\u7684\u65E5\u5FD7\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker logs -f nginx
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u5B9E\u65F6\u67E5\u770B\u65E5\u5FD7\u6700\u540E200\u884C\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> logs -f --tail <span class="token number">200</span> mysql
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="\u5BB9\u5668ip" tabindex="-1"><a class="header-anchor" href="#\u5BB9\u5668ip" aria-hidden="true">#</a> \u5BB9\u5668ip</h2><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker inspect --format &#39;{{.NetworkSettings.IPAddress}}&#39; nginx
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="\u5BB9\u5668\u542F\u52A8\u65B9\u5F0F" tabindex="-1"><a class="header-anchor" href="#\u5BB9\u5668\u542F\u52A8\u65B9\u5F0F" aria-hidden="true">#</a> \u5BB9\u5668\u542F\u52A8\u65B9\u5F0F</h2><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># \u5C06\u5BB9\u5668\u542F\u52A8\u65B9\u5F0F\u6539\u4E3Aalways
docker container update --restart=always $ContainerName
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u8D44\u6E90\u5360\u7528" tabindex="-1"><a class="header-anchor" href="#\u8D44\u6E90\u5360\u7528" aria-hidden="true">#</a> \u8D44\u6E90\u5360\u7528</h2><p>\u67E5\u770B\u6307\u5B9A\u5BB9\u5668\u8D44\u6E90\u5360\u7528\u72B6\u51B5\uFF0C\u6BD4\u5982cpu\u3001\u5185\u5B58\u3001\u7F51\u7EDC\u3001io\u72B6\u6001\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker stats nginx

CONTAINER ID   NAME      CPU %     MEM USAGE / LIMIT     MEM %     NET I/O     BLOCK I/O         PIDS
b217a35fc808   nginx     0.00%     3.641MiB / 1.795GiB   0.20%     656B / 0B   11.3MB / 8.19kB   2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u67E5\u770B\u6240\u6709\u5BB9\u5668\u8D44\u6E90\u5360\u7528\u60C5\u51B5\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker stats -a
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="\u78C1\u76D8\u4F7F\u7528\u60C5\u51B5" tabindex="-1"><a class="header-anchor" href="#\u78C1\u76D8\u4F7F\u7528\u60C5\u51B5" aria-hidden="true">#</a> \u78C1\u76D8\u4F7F\u7528\u60C5\u51B5</h2><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker system df

TYPE            TOTAL     ACTIVE    SIZE      RECLAIMABLE
Images          3         1         885.4MB   752.5MB (84%)
Containers      1         1         1.258kB   0B (0%)
Local Volumes   0         0         0B        0B
Build Cache     0         0         0B        0B
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u6267\u884C\u5BB9\u5668\u5185\u90E8\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#\u6267\u884C\u5BB9\u5668\u5185\u90E8\u547D\u4EE4" aria-hidden="true">#</a> \u6267\u884C\u5BB9\u5668\u5185\u90E8\u547D\u4EE4</h2><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>[root@VM_0_7_centos ~]# docker exec -it nginx /bin/bash
root@b217a35fc808:/# ll
bash: ll: command not found
root@b217a35fc808:/# ls -l
total 80
drwxr-xr-x   2 root root 4096 Apr  8 00:00 bin
drwxr-xr-x   2 root root 4096 Mar 19 23:44 boot
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6307\u5B9A\u8D26\u53F7\u8FDB\u5165\u5BB9\u5668\u5185\u90E8\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker exec -it --user root nginx /bin/bash
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="\u7F51\u7EDC" tabindex="-1"><a class="header-anchor" href="#\u7F51\u7EDC" aria-hidden="true">#</a> \u7F51\u7EDC</h2><p>\u67E5\u770B\u7F51\u7EDC\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker network ls
NETWORK ID     NAME      DRIVER    SCOPE
5f0d326b7082   bridge    bridge    local
af84aa332f22   host      host      local
741c1734f3bb   none      null      local
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u521B\u5EFA\u5916\u90E8\u7F51\u7EDC\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker network create -d bridge my-bridge-network
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u521B\u5EFA\u5BB9\u5668\u65F6\u6307\u5B9A\u7F51\u7EDC\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker run -p 33056:33056 --name java \\
&gt; --network my-bridge-network \\
&gt; java:8
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u590D\u5236\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u590D\u5236\u6587\u4EF6" aria-hidden="true">#</a> \u590D\u5236\u6587\u4EF6</h2><p>\u5C06\u5F53\u524D\u76EE\u5F55tpch\u6587\u4EF6\u5939\u590D\u5236\u5230mysql\u5BB9\u5668\u76F8\u5E94\u7684\u4F4D\u7F6E\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker cp tpch mysql56:/var/lib/mysql #mysql56\u4E3A\u5BB9\u5668\u540D
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u5BB9\u5668\u6587\u4EF6\u62F7\u8D1D\u5230\u5BBF\u4E3B\u673A\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>docker cp \u5BB9\u5668\u540D\uFF1A\u8981\u62F7\u8D1D\u7684\u6587\u4EF6\u5728\u5BB9\u5668\u91CC\u9762\u7684\u8DEF\u5F84 \u8981\u62F7\u8D1D\u5230\u5BBF\u4E3B\u673A\u7684\u76F8\u5E94\u8DEF\u5F84
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,72),r=[s];function l(t,c){return a(),n("div",null,r)}var v=e(d,[["render",l],["__file","3-container-command.html.vue"]]);export{v as default};
