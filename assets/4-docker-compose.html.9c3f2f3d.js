import{_ as s}from"./plugin-vue_export-helper.21dcd24c.js";import{o as n,c as e,e as a}from"./app.09d9ce72.js";const t={},c=a(`<h1 id="docker-compose" tabindex="-1"><a class="header-anchor" href="#docker-compose" aria-hidden="true">#</a> docker-compose</h1><p>Docker Compose\u662F\u4E00\u4E2A\u7528\u4E8E\u5B9A\u4E49\u548C\u8FD0\u884C\u591A\u4E2Adocker\u5BB9\u5668\u5E94\u7528\u7684\u5DE5\u5177\u3002\u4F7F\u7528YAML\u6587\u4EF6\u914D\u7F6E\u591A\u4E2A\u5E94\u7528\u670D\u52A1\uFF0C\u901A\u8FC7\u8FD9\u4E2AYAML\u6587\u4EF6\u4E00\u6B21\u6027\u90E8\u7F72\u914D\u7F6E\u7684\u6240\u6709\u670D\u52A1\u3002</p><h2 id="\u5B89\u88C5" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5" aria-hidden="true">#</a> \u5B89\u88C5</h2><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>curl -L https://get.daocloud.io/docker/compose/releases/download/1.24.0/docker-compose-\`uname -s\`-\`uname -m\` &gt; /usr/local/bin/docker-compose
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u4FEE\u6539\u6587\u4EF6\u7684\u6743\u9650\u4E3A\u53EF\u6267\u884C\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>chmod +x /usr/local/bin/docker-compose
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u67E5\u770B\u662F\u5426\u5B89\u88C5\u6210\u529F\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker-compose --version
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="\u5E38\u7528\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#\u5E38\u7528\u547D\u4EE4" aria-hidden="true">#</a> \u5E38\u7528\u547D\u4EE4</h2><p>\u521B\u5EFA\u3001\u542F\u52A8\u5BB9\u5668\uFF08\u9ED8\u8BA4\u914D\u7F6E\u6587\u4EF6docker-compose.yml\uFF09\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># -d\u8868\u793A\u5728\u540E\u53F0\u8FD0\u884C
docker-compose up -d
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6307\u5B9A\u6587\u4EF6\u542F\u52A8\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker-compose -f docker-compose.yml up -d
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u505C\u6B62\u6240\u6709\u76F8\u5173\u5BB9\u5668\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker-compose stop
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u5217\u51FA\u6240\u6709\u5BB9\u5668\u4FE1\u606F\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker-compose ps
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="\u90E8\u7F72\u591A\u4E2A\u670D\u52A1" tabindex="-1"><a class="header-anchor" href="#\u90E8\u7F72\u591A\u4E2A\u670D\u52A1" aria-hidden="true">#</a> \u90E8\u7F72\u591A\u4E2A\u670D\u52A1</h2><ol><li>\u4F7F\u7528docker-compose.yml\u5B9A\u4E49\u9700\u8981\u90E8\u7F72\u7684\u670D\u52A1\uFF1B</li><li>\u4F7F\u7528docker-compose up\u547D\u4EE4\u4E00\u6B21\u6027\u90E8\u7F72\u914D\u7F6E\u7684\u6240\u6709\u670D\u52A1\u3002</li></ol><h2 id="\u5B9A\u4E49\u914D\u7F6E\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u5B9A\u4E49\u914D\u7F6E\u6587\u4EF6" aria-hidden="true">#</a> \u5B9A\u4E49\u914D\u7F6E\u6587\u4EF6</h2><p>ports\uFF1A\u6307\u5B9A\u4E3B\u673A\u548C\u5BB9\u5668\u7684\u7AEF\u53E3\u6620\u5C04\uFF08HOST:CONTAINER\uFF09</p><p>volumes\uFF1A\u5C06\u4E3B\u673A\u76EE\u5F55\u6302\u8F7D\u5230\u5BB9\u5668\uFF08HOST:CONTAINER\uFF09</p><p>link\uFF1A\u8FDE\u63A5\u5176\u4ED6\u5BB9\u5668\uFF08\u540C\u4E00\u4E2A\u7F51\u7EDC\u4E0B\uFF09\u7684\u670D\u52A1\uFF08SERVICE:ALIAS\uFF09</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">elasticsearch</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> elasticsearch<span class="token punctuation">:</span>7.6.2
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> elasticsearch
    <span class="token key atrule">user</span><span class="token punctuation">:</span> root
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;cluster.name=elasticsearch&quot;</span> <span class="token comment">#\u8BBE\u7F6E\u96C6\u7FA4\u540D\u79F0\u4E3Aelasticsearch</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;discovery.type=single-node&quot;</span> <span class="token comment">#\u4EE5\u5355\u4E00\u8282\u70B9\u6A21\u5F0F\u542F\u52A8</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;ES_JAVA_OPTS=-Xms128m -Xmx128m&quot;</span> <span class="token comment">#\u8BBE\u7F6E\u4F7F\u7528jvm\u5185\u5B58\u5927\u5C0F</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> /mydata/elasticsearch/plugins<span class="token punctuation">:</span>/usr/share/elasticsearch/plugins <span class="token comment">#\u63D2\u4EF6\u6587\u4EF6\u6302\u8F7D</span>
      <span class="token punctuation">-</span> /mydata/elasticsearch/data<span class="token punctuation">:</span>/usr/share/elasticsearch/data <span class="token comment">#\u6570\u636E\u6587\u4EF6\u6302\u8F7D</span>
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> 9200<span class="token punctuation">:</span><span class="token number">9200</span>
      <span class="token punctuation">-</span> 9300<span class="token punctuation">:</span><span class="token number">9300</span>
  <span class="token key atrule">logstash</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> logstash<span class="token punctuation">:</span>7.6.2
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> logstash
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> TZ=Asia/Shanghai
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> /mydata/logstash/logstash.conf<span class="token punctuation">:</span>/usr/share/logstash/pipeline/logstash.conf <span class="token comment">#\u6302\u8F7Dlogstash\u7684\u914D\u7F6E\u6587\u4EF6</span>
    <span class="token key atrule">depends_on</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> elasticsearch <span class="token comment">#kibana\u5728elasticsearch\u542F\u52A8\u4E4B\u540E\u518D\u542F\u52A8</span>
    <span class="token key atrule">link</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> elasticsearch<span class="token punctuation">:</span>es <span class="token comment">#\u53EF\u4EE5\u7528es\u8FD9\u4E2A\u57DF\u540D\u8BBF\u95EEelasticsearch\u670D\u52A1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u542F\u52A8\u670D\u52A1" tabindex="-1"><a class="header-anchor" href="#\u542F\u52A8\u670D\u52A1" aria-hidden="true">#</a> \u542F\u52A8\u670D\u52A1</h2><p>\u5148\u5C06docker-compose.yml\u4E0A\u4F20\u81F3Linux\u670D\u52A1\u5668\uFF0C\u518D\u5728\u5F53\u524D\u76EE\u5F55\u4E0B\u8FD0\u884C\u5982\u4E0B\u547D\u4EE4\uFF08\u9ED8\u8BA4\u914D\u7F6E\u6587\u4EF6docker-compose.yml\uFF09\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker-compose up -d
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,27),i=[c];function l(o,p){return n(),e("div",null,i)}var u=s(t,[["render",l],["__file","4-docker-compose.html.vue"]]);export{u as default};
