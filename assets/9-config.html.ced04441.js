import{_ as p}from"./plugin-vue_export-helper.21dcd24c.js";import{o as l,c,a as n,b as e,e as a,d as s,r as o}from"./app.09d9ce72.js";const i={},u=a(`<h1 id="spring-cloud-config" tabindex="-1"><a class="header-anchor" href="#spring-cloud-config" aria-hidden="true">#</a> Spring Cloud Config</h1><p>Spring Cloud Config\u5206\u4E3A\u670D\u52A1\u7AEF\u548C\u5BA2\u6237\u7AEF\u3002\u670D\u52A1\u7AEF\u4E5F\u79F0\u4E3A\u5206\u5E03\u5F0F\u914D\u7F6E\u4E2D\u5FC3\uFF0C\u5B83\u662F\u4E2A\u72EC\u7ACB\u7684\u5FAE\u670D\u52A1\u5E94\u7528\uFF0C\u7528\u4E8E\u4ECE\u914D\u7F6E\u4ED3\u5E93\u83B7\u53D6\u914D\u7F6E\u4FE1\u606F\u4F9B\u5BA2\u6237\u7AEF\u4F7F\u7528\u3002\u800C\u5BA2\u6237\u7AEF\u5219\u662F\u5FAE\u670D\u52A1\u67B6\u6784\u4E2D\u7684\u5404\u4E2A\u5FAE\u670D\u52A1\u5E94\u7528\u6216\u8005\u57FA\u7840\u8BBE\u65BD\uFF0C\u53EF\u4EE5\u4ECE\u914D\u7F6E\u4E2D\u5FC3\u83B7\u53D6\u914D\u7F6E\u4FE1\u606F\uFF0C\u5728\u542F\u52A8\u65F6\u52A0\u8F7D\u914D\u7F6E\u3002Spring Cloud Config \u7684\u914D\u7F6E\u4E2D\u5FC3\u9ED8\u8BA4\u91C7\u7528Git\u6765\u5B58\u50A8\u914D\u7F6E\u4FE1\u606F\u3002</p><h2 id="\u51C6\u5907\u914D\u7F6E\u4FE1\u606F" tabindex="-1"><a class="header-anchor" href="#\u51C6\u5907\u914D\u7F6E\u4FE1\u606F" aria-hidden="true">#</a> \u51C6\u5907\u914D\u7F6E\u4FE1\u606F</h2><p>\u5728Git\u4ED3\u5E93\u4E2D\u6DFB\u52A0\u597D\u914D\u7F6E\u6587\u4EF6\u3002</p><p>master\u5206\u652F\u4E0B\u7684\u914D\u7F6E\u4FE1\u606F\uFF1A</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">config</span><span class="token punctuation">:</span>
  <span class="token key atrule">info</span><span class="token punctuation">:</span> <span class="token string">&quot;config info for dev(master)&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u914D\u7F6E\u4E2D\u5FC3" tabindex="-1"><a class="header-anchor" href="#\u914D\u7F6E\u4E2D\u5FC3" aria-hidden="true">#</a> \u914D\u7F6E\u4E2D\u5FC3</h2><p>\u521B\u5EFAconfig-server\u6A21\u5757\uFF0C\u5728pom.xml\u4E2D\u6DFB\u52A0\u4F9D\u8D56\uFF1A</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-config-server<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-netflix-eureka-client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5728application.yml\u4E2D\u8FDB\u884C\u914D\u7F6E\uFF1A</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8901</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> config<span class="token punctuation">-</span>server
  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
    <span class="token key atrule">config</span><span class="token punctuation">:</span>
      <span class="token key atrule">server</span><span class="token punctuation">:</span>
        <span class="token key atrule">git</span><span class="token punctuation">:</span> <span class="token comment">#\u914D\u7F6E\u5B58\u50A8\u914D\u7F6E\u4FE1\u606F\u7684Git\u4ED3\u5E93</span>
          <span class="token key atrule">uri</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//gitee.com/macrozheng/springcloud<span class="token punctuation">-</span>config.git
          <span class="token key atrule">username</span><span class="token punctuation">:</span> macro
          <span class="token key atrule">password</span><span class="token punctuation">:</span> <span class="token number">123456</span>
          <span class="token key atrule">clone-on-start</span><span class="token punctuation">:</span> <span class="token boolean important">true</span> <span class="token comment">#\u5F00\u542F\u542F\u52A8\u65F6\u76F4\u63A5\u4ECEgit\u83B7\u53D6\u914D\u7F6E</span>
<span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>
      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>8001/eureka/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5728\u542F\u52A8\u7C7B\u6DFB\u52A0@EnableConfigServer\u542F\u52A8\u914D\u7F6E\u4E2D\u5FC3\u7684\u529F\u80FD\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@EnableConfigServer</span>
<span class="token annotation punctuation">@EnableDiscoveryClient</span>
<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConfigServerApplication</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">ConfigServerApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u83B7\u53D6\u914D\u7F6E\u4FE1\u606F" tabindex="-1"><a class="header-anchor" href="#\u83B7\u53D6\u914D\u7F6E\u4FE1\u606F" aria-hidden="true">#</a> \u83B7\u53D6\u914D\u7F6E\u4FE1\u606F</h2>`,14),r=s("\u8BBF\u95EE"),d={href:"http://localhost:8901/master/config-dev%E6%9D%A5%E8%8E%B7%E5%8F%96master%E5%88%86%E6%94%AF%E4%B8%8Adev%E7%8E%AF%E5%A2%83%E7%9A%84%E9%85%8D%E7%BD%AE%E4%BF%A1%E6%81%AF%E3%80%82",target:"_blank",rel:"noopener noreferrer"},k=s("http://localhost:8901/master/config-dev\u6765\u83B7\u53D6master\u5206\u652F\u4E0Adev\u73AF\u5883\u7684\u914D\u7F6E\u4FE1\u606F\u3002"),v=a(`<div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;master&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;profiles&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
        <span class="token string">&quot;config-dev&quot;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;label&quot;</span><span class="token operator">:</span><span class="token null keyword">null</span><span class="token punctuation">,</span>
    <span class="token property">&quot;version&quot;</span><span class="token operator">:</span><span class="token string">&quot;caf6549c807a6dde1fbbe399ffca18dc886ac03d&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;state&quot;</span><span class="token operator">:</span><span class="token null keyword">null</span><span class="token punctuation">,</span>
    <span class="token property">&quot;propertySources&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1),g=s("\u8BBF\u95EE"),m={href:"http://localhost:8901/master/config-dev.yml%E6%9D%A5%E8%8E%B7%E5%8F%96master%E5%88%86%E6%94%AF%E4%B8%8Adev%E7%8E%AF%E5%A2%83%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%BF%A1%E6%81%AF%E3%80%82",target:"_blank",rel:"noopener noreferrer"},b=s("http://localhost:8901/master/config-dev.yml\u6765\u83B7\u53D6master\u5206\u652F\u4E0Adev\u73AF\u5883\u7684\u914D\u7F6E\u6587\u4EF6\u4FE1\u606F\u3002"),y=a(`<div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">config</span><span class="token punctuation">:</span>
  <span class="token key atrule">info</span><span class="token punctuation">:</span> config info for dev(master)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u521B\u5EFAconfig-client\u6A21\u5757\uFF0C\u5728 pom.xml \u4E2D\u6DFB\u52A0\u76F8\u5173\u4F9D\u8D56\u3002</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-config<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-netflix-eureka-client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u914D\u7F6Eapplication.yml\u3002</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">9001</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> config<span class="token punctuation">-</span>client
  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
    <span class="token key atrule">config</span><span class="token punctuation">:</span> <span class="token comment">#Config\u5BA2\u6237\u7AEF\u914D\u7F6E</span>
      <span class="token key atrule">profile</span><span class="token punctuation">:</span> dev <span class="token comment">#\u542F\u7528\u914D\u7F6E\u540E\u7F00\u540D\u79F0</span>
      <span class="token key atrule">label</span><span class="token punctuation">:</span> dev <span class="token comment">#\u5206\u652F\u540D\u79F0</span>
      <span class="token key atrule">uri</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span><span class="token number">8901</span> <span class="token comment">#\u914D\u7F6E\u4E2D\u5FC3\u5730\u5740</span>
      <span class="token key atrule">name</span><span class="token punctuation">:</span> config <span class="token comment">#\u914D\u7F6E\u6587\u4EF6\u540D\u79F0</span>
<span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>
      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>8001/eureka/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6DFB\u52A0ConfigClientController\u7528\u4E8E\u83B7\u53D6\u914D\u7F6E\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConfigClientController</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;\${config.info}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> configInfo<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/configInfo&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getConfigInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> configInfo<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,7),f=s("\u542F\u52A8config-client\u670D\u52A1\uFF0C\u8BBF\u95EE"),h={href:"http://localhost:9001/configInfo%EF%BC%8C%E5%8F%AF%E4%BB%A5%E8%8E%B7%E5%8F%96%E5%88%B0dev%E5%88%86%E6%94%AF%E4%B8%8Bdev%E7%8E%AF%E5%A2%83%E7%9A%84%E9%85%8D%E7%BD%AE%E3%80%82",target:"_blank",rel:"noopener noreferrer"},E=s("http://localhost:9001/configInfo\uFF0C\u53EF\u4EE5\u83B7\u53D6\u5230dev\u5206\u652F\u4E0Bdev\u73AF\u5883\u7684\u914D\u7F6E\u3002"),_=a(`<h2 id="\u5237\u65B0\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#\u5237\u65B0\u914D\u7F6E" aria-hidden="true">#</a> \u5237\u65B0\u914D\u7F6E</h2><p>\u5F53Git\u4ED3\u5E93\u4E2D\u7684\u914D\u7F6E\u4FE1\u606F\u66F4\u6539\u540E\uFF0C\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7SpringBoot Actuator\u7684refresh\u7AEF\u70B9\u6765\u5237\u65B0\u5BA2\u6237\u7AEF\u914D\u7F6E\u4FE1\u606F\u3002</p><p>config-client\u589E\u52A0\u4F9D\u8D56\uFF1A</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>application.yml\u5F00\u542Frefresh\u7AEF\u70B9\uFF1A</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">management</span><span class="token punctuation">:</span>
  <span class="token key atrule">endpoints</span><span class="token punctuation">:</span>
    <span class="token key atrule">web</span><span class="token punctuation">:</span>
      <span class="token key atrule">exposure</span><span class="token punctuation">:</span>
        <span class="token key atrule">include</span><span class="token punctuation">:</span> <span class="token string">&#39;refresh&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5728ConfigClientController\u7C7B\u6DFB\u52A0@RefreshScope\u6CE8\u89E3\u7528\u4E8E\u5237\u65B0\u914D\u7F6E\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RefreshScope</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConfigClientController</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;\${config.info}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> configInfo<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/configInfo&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getConfigInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> configInfo<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u91CD\u65B0\u542F\u52A8config-client\u540E\uFF0C\u8C03\u7528refresh\u7AEF\u70B9\u8FDB\u884C\u914D\u7F6E\u5237\u65B0\u3002</p>`,9),I=s("\u8BBF\u95EE"),x={href:"http://localhost:9001/configInfo%E8%BF%9B%E8%A1%8C%E6%B5%8B%E8%AF%95%EF%BC%8C%E5%8F%AF%E4%BB%A5%E5%8F%91%E7%8E%B0%E9%85%8D%E7%BD%AE%E4%BF%A1%E6%81%AF%E5%B7%B2%E7%BB%8F%E5%88%B7%E6%96%B0%E3%80%82",target:"_blank",rel:"noopener noreferrer"},B=s("http://localhost:9001/configInfo\u8FDB\u884C\u6D4B\u8BD5\uFF0C\u53EF\u4EE5\u53D1\u73B0\u914D\u7F6E\u4FE1\u606F\u5DF2\u7ECF\u5237\u65B0\u3002"),A=a(`<h2 id="\u5B89\u5168\u8BA4\u8BC1" tabindex="-1"><a class="header-anchor" href="#\u5B89\u5168\u8BA4\u8BC1" aria-hidden="true">#</a> \u5B89\u5168\u8BA4\u8BC1</h2><p>\u521B\u5EFAconfig-security-server\u6A21\u5757\uFF0C\u5728pom.xml\u4E2D\u6DFB\u52A0\u76F8\u5173\u4F9D\u8D56\uFF1A</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-config-server<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-security<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5728application.yml\u4E2D\u8FDB\u884C\u914D\u7F6E\uFF1A</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8905</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> config<span class="token punctuation">-</span>security<span class="token punctuation">-</span>server
  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
    <span class="token key atrule">config</span><span class="token punctuation">:</span>
      <span class="token key atrule">server</span><span class="token punctuation">:</span>
        <span class="token key atrule">git</span><span class="token punctuation">:</span>
          <span class="token key atrule">uri</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//gitee.com/macrozheng/springcloud<span class="token punctuation">-</span>config.git
          <span class="token key atrule">username</span><span class="token punctuation">:</span> 
          <span class="token key atrule">password</span><span class="token punctuation">:</span> 
          <span class="token key atrule">clone-on-start</span><span class="token punctuation">:</span> <span class="token boolean important">true</span> <span class="token comment">#\u5F00\u542F\u542F\u52A8\u65F6\u76F4\u63A5\u4ECEgit\u83B7\u53D6\u914D\u7F6E</span>
  <span class="token key atrule">security</span><span class="token punctuation">:</span> <span class="token comment">#\u914D\u7F6E\u7528\u6237\u540D\u548C\u5BC6\u7801</span>
    <span class="token key atrule">user</span><span class="token punctuation">:</span>
      <span class="token key atrule">name</span><span class="token punctuation">:</span> 
      <span class="token key atrule">password</span><span class="token punctuation">:</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7136\u540E\u542F\u52A8config-security-server\u670D\u52A1\u3002</p><p>\u4FEE\u6539config-client\u7684\u914D\u7F6E\uFF08\u6DFB\u52A0application-security.yml\u914D\u7F6E\u6587\u4EF6\uFF0C\u4E3B\u8981\u662F\u914D\u7F6E\u4E86\u914D\u7F6E\u4E2D\u5FC3\u7684\u7528\u6237\u540D\u548C\u5BC6\u7801\uFF09\uFF1A</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">9002</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> config<span class="token punctuation">-</span>client
  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
    <span class="token key atrule">config</span><span class="token punctuation">:</span>
      <span class="token key atrule">profile</span><span class="token punctuation">:</span> dev <span class="token comment">#\u542F\u7528\u914D\u7F6E\u540E\u7F00\u540D\u79F0</span>
      <span class="token key atrule">label</span><span class="token punctuation">:</span> dev <span class="token comment">#\u5206\u652F\u540D\u79F0</span>
      <span class="token key atrule">uri</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span><span class="token number">8905</span> <span class="token comment">#\u914D\u7F6E\u4E2D\u5FC3\u5730\u5740</span>
      <span class="token key atrule">name</span><span class="token punctuation">:</span> config <span class="token comment">#\u914D\u7F6E\u6587\u4EF6\u540D\u79F0</span>
      <span class="token key atrule">username</span><span class="token punctuation">:</span> 
      <span class="token key atrule">password</span><span class="token punctuation">:</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,8),C=s("\u4F7F\u7528application-security.yml\u542F\u52A8config-client\u670D\u52A1\u3002\u8BBF\u95EE"),w={href:"http://localhost:9002/configInfo%E8%BF%9B%E8%A1%8C%E6%B5%8B%E8%AF%95%E3%80%82",target:"_blank",rel:"noopener noreferrer"},q=s("http://localhost:9002/configInfo\u8FDB\u884C\u6D4B\u8BD5\u3002"),F=a(`<h2 id="\u914D\u7F6E\u4E2D\u5FC3\u96C6\u7FA4" tabindex="-1"><a class="header-anchor" href="#\u914D\u7F6E\u4E2D\u5FC3\u96C6\u7FA4" aria-hidden="true">#</a> \u914D\u7F6E\u4E2D\u5FC3\u96C6\u7FA4</h2><p>\u5728\u5FAE\u670D\u52A1\u67B6\u6784\u4E2D\uFF0C\u6240\u6709\u670D\u52A1\u90FD\u4ECE\u914D\u7F6E\u4E2D\u5FC3\u83B7\u53D6\u914D\u7F6E\uFF0C\u914D\u7F6E\u4E2D\u5FC3\u4E00\u65E6\u5B95\u673A\uFF0C\u4F1A\u53D1\u751F\u5F88\u4E25\u91CD\u7684\u95EE\u9898\u3002\u901A\u8FC7\u642D\u5EFA\u914D\u7F6E\u4E2D\u5FC3\u96C6\u7FA4\u907F\u514D\u8BE5\u95EE\u9898\u3002</p><ol><li><p>\u542F\u52A8\u4E24\u4E2Aconfig-server\u5206\u522B\u8FD0\u884C\u57288902\u548C8903\u7AEF\u53E3\u4E0A\uFF1B</p></li><li><p>\u6DFB\u52A0config-client\u7684\u914D\u7F6E\u6587\u4EF6application-cluster.yml\uFF0C\u4E3B\u8981\u662F\u6DFB\u52A0\u4E86\u4ECE\u6CE8\u518C\u4E2D\u5FC3\u83B7\u53D6\u914D\u7F6E\u4E2D\u5FC3\u5730\u5740\u7684\u914D\u7F6E\u5E76\u53BB\u9664\u4E86\u914D\u7F6E\u4E2D\u5FC3uri\u7684\u914D\u7F6E\uFF1A</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
    <span class="token key atrule">config</span><span class="token punctuation">:</span>
      <span class="token key atrule">profile</span><span class="token punctuation">:</span> dev <span class="token comment">#\u542F\u7528\u73AF\u5883\u540D\u79F0</span>
      <span class="token key atrule">label</span><span class="token punctuation">:</span> dev <span class="token comment">#\u5206\u652F\u540D\u79F0</span>
      <span class="token key atrule">name</span><span class="token punctuation">:</span> config <span class="token comment">#\u914D\u7F6E\u6587\u4EF6\u540D\u79F0</span>
      <span class="token key atrule">discovery</span><span class="token punctuation">:</span>
        <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
        <span class="token key atrule">service-id</span><span class="token punctuation">:</span> config<span class="token punctuation">-</span>server
<span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>
      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>8001/eureka/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol>`,3);function S(j,D){const t=o("ExternalLinkIcon");return l(),c("div",null,[u,n("p",null,[r,n("a",d,[k,e(t)])]),v,n("p",null,[g,n("a",m,[b,e(t)])]),y,n("p",null,[f,n("a",h,[E,e(t)])]),_,n("p",null,[I,n("a",x,[B,e(t)])]),A,n("p",null,[C,n("a",w,[q,e(t)])]),F])}var N=p(i,[["render",S],["__file","9-config.html.vue"]]);export{N as default};
